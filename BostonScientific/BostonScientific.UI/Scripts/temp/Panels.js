function operateFormatter(e, t, a) { return ['<div class="table-icons">', '<a rel="tooltip" title="Ver" class="btn btn-simple btn-info btn-icon table-action view" href="javascript:void(0)">', '<i class="fa fa-eye"></i>', "</a>", '<a rel="tooltip" title="Editar" class="btn btn-simple btn-warning btn-icon table-action edit" href="javascript:void(0)">', '<i class="fa fa-pencil"></i>', "</a>", '<a rel="tooltip" title="Eliminar" class="btn btn-simple btn-danger btn-icon table-action remove" href="javascript:void(0)">', '<i class="fa fa-close"></i>', "</a>", "</div>"].join("") } var $table = $("#bootstrap-table"); $().ready(function () { window.operateEvents = { "click .view": function (e, t, a, n) { info = JSON.stringify(a), $.ajax({ type: "POST", url: "Panels.aspx/PanelView", data: "{'IdPanel' : '" + a.IdPanel + "'}", contentType: "application/json; charset=utf-8", dataType: "json", success: function (e) { window.location = e.d } }) }, "click .edit": function (e, t, a, n) { info = JSON.stringify(a), $.ajax({ type: "POST", url: "Panels.aspx/GetPanelInfo", data: "{'IdPanel' : '" + a.IdPanel + "'}", contentType: "application/json; charset=utf-8", dataType: "json", success: function (response) { var res = response.d; document.getElementById("U_txtIdPanel").value = res[0].IdPanel, document.getElementById("U_txtModel").value = res[0].Model, document.getElementById("U_txtDescription").value = res[0].Description, document.getElementById("U_txtBus").value = res[0].Bus, document.getElementById("U_txtMain").value = res[0].Main, document.getElementById("U_txtArea").value = res[0].Area, document.getElementById("U_txtFrom").value = res[0].From, document.getElementById("U_txtVoltage").value = res[0].Voltage, document.getElementById("U_txtPhases").value = res[0].Phases, document.getElementById("U_txtThreads").value = res[0].Threads, document.getElementById("U_txtFrequency").value = res[0].Frequency, document.getElementById("U_txtComments").value = res[0].Comments } }), $("#EditPanel").modal("show") }, "click .remove": function (e, t, a, n) { swal({ title: "Esta seguro?", text: "Toda la información correspondiente al panel " + a.IdPanel + " sera eliminada junto con sus mediciones", type: "warning", showCancelButton: !0, confirmButtonColor: "#21354c", cancelButtonColor: "#981613", confirmButtonText: "Si, eliminar panel", cancelButtonText: "Cancelar" }).then(function (e) { (e.value = !0) && $.ajax({ type: "POST", url: "Panels/DeletePanel", data: "{'IdPanel' : '" + a.IdPanel + "'}", contentType: "application/json; charset=utf-8", dataType: "json", success: function (e) { $table.bootstrapTable("remove", { field: "IdPanel", values: [a.IdPanel] }), swal("Panel eliminado!", "El panel " + a.IdPanel + " ha sido eliminado", "success") } }) }) } }, $table.bootstrapTable({ toolbar: ".toolbar", clickToSelect: !0, showRefresh: !1, search: !0, showToggle: !0, showColumns: !0, pagination: !0, searchAlign: "left", pageSize: 8, clickToSelect: !1, pageList: [8, 10, 25, 50, 100], formatShowingRows: function (e, t, a) { }, formatRecordsPerPage: function (e) { return e + " rows visible" }, icons: { refresh: "fa fa-refresh", toggle: "fa fa-th-list", columns: "fa fa-columns", detailOpen: "fa fa-plus-circle", detailClose: "ti-close" } }), $('[rel="tooltip"]').tooltip(), $(window).resize(function () { $table.bootstrapTable("resetView") }) });
